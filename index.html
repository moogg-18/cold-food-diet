<!doctype html>
<html lang="zh-Hant">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>å†·æ€§é£Ÿç‰© Ã— ç†±é‡ç´€éŒ„</title>
  <link rel="stylesheet" href="style.css?v=130" />
</head>

<body>
  <header class="topbar">
    <h1>å†·æ€§é£Ÿç‰© Ã— ç†±é‡ç´€éŒ„</h1>
    <p class="sub">æ¯æ—¥ä¸‰é¤è¨˜éŒ„ï½œå†·æ€§é£Ÿç‰©æé†’ï½œå‡è¡¡é£²é£Ÿå»ºè­°</p>
  </header>

  <nav class="nav">
    <a class="card" href="log.html">ğŸ± æ–°å¢ä¸‰é¤ç´€éŒ„</a>
    <a class="card" href="stats.html">ğŸ“Š ä»Šæ—¥çµ±è¨ˆèˆ‡å»ºè­°</a>
    <a class="card" href="profile.html">ğŸ‘¤ å€‹äººè¨­å®š</a>
    <a class="card" href="week.html">ğŸ—“ï¸ é€±æ›†ç›¸ç‰‡ç´€éŒ„</a>
  </nav>

  <main class="container">
    <section class="panel">
      <h2>ä»Šå¤©ç‹€æ…‹</h2>

      <div class="grid">
        <div class="metric">
          <div class="label">ä»Šæ—¥ç¸½ç†±é‡</div>
          <div class="value" id="todayCalories">0</div>
          <div class="hint">kcal</div>
        </div>

        <div class="metric">
          <div class="label">å»ºè­°æ”å–é‡</div>
          <div class="value" id="dailyLimit">â€”</div>
          <div class="hint">kcal</div>
        </div>

        <div class="metric">
          <div class="label">å†·æ€§é£Ÿç‰©æ¬¡æ•¸</div>
          <div class="value" id="todayColdCount">0</div>
          <div class="hint">æ¬¡</div>
        </div>

        <div class="metric">
          <div class="label">ç†±é‡ç‹€æ…‹</div>
          <div class="value" id="statusText">â€”</div>
          <div class="hint" id="statusHint"></div>
        </div>
      </div>

      <p class="note" id="todayWarn">â€”</p>
      <p class="note" id="todayTip">â€”</p>
    </section>

    <section class="panel">
      <h2>ç³»çµ±èªªæ˜</h2>
      <ul class="list">
        <li>æœ¬ç³»çµ±ç‚ºä¸€å€‹ä»¥ã€Œé£²é£Ÿç´€éŒ„ Ã— å†·æ€§é£Ÿç‰©æé†’ã€ç‚ºæ ¸å¿ƒçš„å¥åº·ç®¡ç†ç¶²ç«™ã€‚</li>
        <li>ä½¿ç”¨è€…å¯æ¯æ—¥è¨˜éŒ„ä¸‰é¤å…§å®¹ï¼Œç³»çµ±æœƒè‡ªå‹•çµ±è¨ˆç†±é‡ä¸¦è¾¨è­˜æ˜¯å¦ç‚ºå†·æ€§é£Ÿç‰©ã€‚</li>
        <li>ä¾æ“šæ¯æ—¥æ”å–é‡æä¾›æé†’ï¼Œå”åŠ©é¿å…éé‡æˆ–ç‡Ÿé¤Šå¤±è¡¡ã€‚</li>
        <li>ä¾æ“šå€‹äººè³‡æ–™ï¼ˆå¹´é½¡ã€æ€§åˆ¥ã€èº«é«˜ã€é«”é‡ã€ç›®æ¨™ã€é‹å‹•é‡ï¼‰ä¼°ç®—å»ºè­°ç†±é‡ã€‚</li>
        <li>æœ¬ç¶²ç«™ç‚ºç¤ºç¯„å‹ Web-based ç³»çµ±ï¼Œè³‡æ–™åƒ…å„²å­˜åœ¨ä½¿ç”¨è€…è£ç½®ä¸­ï¼Œç„¡éœ€è¨»å†Šå³å¯ä½¿ç”¨ã€‚</li>
      </ul>
    </section>
  </main>

  <script src="app.js?v=130"></script>
  <script>
    // âœ… ç”¨å« limit/over çš„ç‰ˆæœ¬ï¼ˆæ¯” getTodaySummary æ›´å®Œæ•´ï¼‰
    const s = window.App.getTodayStatus();

    // é€™è£¡ä¿®æ­£ï¼šåŸæœ¬ä½ å¯« sum.totalCalories æ˜¯éŒ¯çš„
    document.getElementById("todayCalories").textContent = s.total;
    document.getElementById("todayColdCount").textContent = s.coldCount;

    document.getElementById("todayTip").textContent = "ğŸ’¡ å»ºè­°ï¼š" + s.tip;

    const limitEl = document.getElementById("dailyLimit");
    const statusTextEl = document.getElementById("statusText");
    const statusHintEl = document.getElementById("statusHint");
    const warnEl = document.getElementById("todayWarn");

    if (!s.limit) {
      limitEl.textContent = "â€”";
      statusTextEl.textContent = "æœªè¨­å®š";
      statusHintEl.textContent = "";
      warnEl.textContent = "è«‹å…ˆåˆ°ã€Œå€‹äººè¨­å®šã€å¡«å¯«è³‡æ–™ï¼Œç³»çµ±æ‰èƒ½è¨ˆç®—å»ºè­°ç†±é‡ã€‚";
      warnEl.style.color = "#4d3900";
      warnEl.style.fontWeight = "600";
    } else {
      limitEl.textContent = s.limit;

      if (s.over) {
        statusTextEl.textContent = "è¶…æ¨™";
        statusHintEl.textContent = `+${s.overBy} kcal`;
        warnEl.textContent = `âš  ä»Šæ—¥ç†±é‡å·²è¶…éå»ºè­°æ”å–é‡ï¼ˆ+${s.overBy} kcalï¼‰`;
        warnEl.style.color = "red";
        warnEl.style.fontWeight = "800";
      } else {
        statusTextEl.textContent = "æ­£å¸¸";
        statusHintEl.textContent = "åœ¨ç¯„åœå…§";
        warnEl.textContent = "âœ” ç›®å‰ä»åœ¨å»ºè­°æ”å–ç¯„åœå…§";
        warnEl.style.color = "#7a8f4e";
        warnEl.style.fontWeight = "800";
      }
    }
  </script>
</body>
</html>